function disconnect(){if(instance)return instance.invokeMethodAsync("Disconnect")}function push(){Matter.Body.applyForce(ball,ball.position,{x:.1,y:0})}var instance,clientCanvas;window.createref=n=>{instance=n};window.onunload=disconnect;var engine,halfWidth=window.innerWidth/2,halfHeight=window.innerHeight/2,playerDict={},ball;window.gamestart=(n,t,i)=>{var c=document.getElementById("gameCanvas"),o=Matter.Engine,s=Matter.Render,u=Matter.World,r=Matter.Bodies,h;engine=o.create();h=s.create({canvas:c,engine:engine,options:{height:window.innerHeight,width:window.innerWidth,wireframes:!1,showVelocity:!0}});engine.world.gravity.y=0;u.add(engine.world,[r.rectangle(halfWidth,0,window.innerWidth,1,{isStatic:!0}),r.rectangle(halfWidth,window.innerHeight,window.innerWidth,1,{isStatic:!0}),r.rectangle(0,halfHeight,1,window.innerHeight,{isStatic:!0}),r.rectangle(window.innerWidth,halfHeight,1,window.innerHeight,{isStatic:!0})]);ball=r.circle(halfWidth,halfHeight,40,{render:{fillStyle:"white"}});u.add(engine.world,[ball]);var l=JSON.parse(n),f=1,e=1,a=window.innerHeight/(t+1),v=window.innerHeight/(i+1);l.forEach(n=>{var t,i,o;n.Team==1?(i=1/2*halfWidth,o=a*f,t=r.polygon(i,o,2+f,60,{render:{fillStyle:"orange"},angle:3.14}),f++):n.Team==2&&(i=3/2*halfWidth,o=v*e,t=r.polygon(i,o,2+e,60,{render:{fillStyle:"teal"}}),e++);u.add(engine.world,t);playerDict[n.Id]=t});o.run(engine);s.run(h)};window.fullscreen=()=>{document.getElementById("client").requestFullscreen()};window.initcontrols=()=>{clientCanvas=document.getElementById("controlsCanvas")};