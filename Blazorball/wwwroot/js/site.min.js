function disconnect(){if(instance)return instance.invokeMethodAsync("Disconnect")}function push(){Matter.Body.applyForce(ball,ball.position,{x:.1,y:0})}var instance,engine,playerDict,ball,clientCanvas;window.createref=n=>{instance=n};window.onunload=disconnect;playerDict={};window.gamestart=(n,t,i)=>{var a=document.getElementById("gameCanvas"),u=window.innerWidth/2,f=window.innerHeight/2,h=Matter.Engine,c=Matter.Render,e=Matter.World,r=Matter.Bodies,l;engine=h.create();l=c.create({canvas:a,engine:engine,options:{height:window.innerHeight,width:window.innerWidth,wireframes:!1,showVelocity:!0}});engine.world.gravity.y=0;e.add(engine.world,[r.rectangle(u,0,window.innerWidth,1,{isStatic:!0}),r.rectangle(u,window.innerHeight,window.innerWidth,1,{isStatic:!0}),r.rectangle(0,f,1,window.innerHeight,{isStatic:!0}),r.rectangle(window.innerWidth,f,1,window.innerHeight,{isStatic:!0})]);ball=r.circle(u,f,40,{render:{fillStyle:"white"}});e.add(engine.world,[ball]);var v=JSON.parse(n),o=1,s=1,y=window.innerHeight/(t+1),p=window.innerHeight/(i+1);v.forEach(n=>{var t,i,f;n.Team==1?(i=1/2*u,f=y*o,t=r.polygon(i,f,2+o,60,{render:{fillStyle:"orange"},angle:3.14}),o++):n.Team==2&&(i=3/2*u,f=p*s,t=r.polygon(i,f,2+s,60,{render:{fillStyle:"teal"}}),s++);e.add(engine.world,t);playerDict[n.Id]=t});h.run(engine);c.run(l)};window.fullscreen=()=>{document.getElementById("client").requestFullscreen()};window.initcontrols=()=>{clientCanvas=document.getElementById("controlsCanvas");var n=Math.min(window.innerHeight,window.innerWidth);clientCanvas.width=n;clientCanvas.height=n};